<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Li-ion Battery Setup and Charging Discharging Cycle</title>
    <link link rel="stylesheet" href="experiment/simulation/css/main.css"\link>
</head>
<body>
    <div class="container">
        <div class="header">
            Li-ion Battery Virtual Lab Simulation
        </div>

        <!-- Battery Setup Section -->
        <div class="section">
            <div class="section-title">1. Li-ion Battery Setup</div>
            <div class="battery-setup">
                <div class="components-panel">
                    <div class="component-box" draggable="true" data-component="electrolyte">
                        <div class="tooltip">Non-aqueous organic solvent that allows lithium ions to travel between the electrodes</div>
                        <div class="component-header">
                            <svg class="component-icon" viewBox="0 0 24 24" fill="#4facfe">
                                <circle cx="12" cy="12" r="8" stroke="#4facfe" stroke-width="2" fill="rgba(79, 172, 254, 0.3)"/>
                                <circle cx="8" cy="10" r="1.5" fill="#4facfe"/>
                                <circle cx="16" cy="10" r="1.5" fill="#4facfe"/>
                                <circle cx="12" cy="14" r="1.5" fill="#4facfe"/>
                            </svg>
                            <div class="component-title">Electrolyte</div>
                        </div>
                        <div class="component-description">Lithium hexafluorophosphate</div>
                    </div>

                    <div class="component-box" draggable="true" data-component="separator">
                        <div class="tooltip">Separator Prevents short circuit</div>
                        <div class="component-header">
                            <svg class="component-icon" viewBox="0 0 24 24" fill="#666">
                                <rect x="10" y="4" width="4" height="16" rx="2" fill="#666"/>
                                <circle cx="7" cy="8" r="1" fill="white"/>
                                <circle cx="17" cy="8" r="1" fill="white"/>
                                <circle cx="7" cy="12" r="1" fill="white"/>
                                <circle cx="17" cy="12" r="1" fill="white"/>
                                <circle cx="7" cy="16" r="1" fill="white"/>
                                <circle cx="17" cy="16" r="1" fill="white"/>
                            </svg>
                            <div class="component-title">Separator</div>
                        </div>
                        <div class="component-description">Microporous polyethylene</div>
                    </div>

                    <div class="component-box" draggable="true" data-component="anode">
                        <div class="tooltip">Graphite stores Li+ ions during charging</div>
                        <div class="component-header">
                            <svg class="component-icon" viewBox="0 0 24 24" fill="#ff9a56">
                                <rect x="6" y="4" width="12" height="16" rx="2" fill="#ff9a56"/>
                                <line x1="9" y1="8" x2="15" y2="8" stroke="white" stroke-width="2"/>
                                <line x1="9" y1="12" x2="15" y2="12" stroke="white" stroke-width="2"/>
                                <line x1="9" y1="16" x2="15" y2="16" stroke="white" stroke-width="2"/>
                                <text x="12" y="6" text-anchor="middle" fill="white" font-size="8">-</text>
                            </svg>
                            <div class="component-title">Anode</div>
                        </div>
                        <div class="component-description">Graphite</div>
                    </div>

                    <div class="component-box" draggable="true" data-component="cathode">
                        <div class="tooltip">Lithium cobalt oxide has good capacity</div>
                        <div class="component-header">
                            <svg class="component-icon" viewBox="0 0 24 24" fill="#56ab2f">
                                <rect x="6" y="4" width="12" height="16" rx="2" fill="#56ab2f"/>
                                <line x1="9" y1="8" x2="15" y2="8" stroke="white" stroke-width="2"/>
                                <line x1="12" y1="5" x2="12" y2="11" stroke="white" stroke-width="2"/>
                                <line x1="9" y1="12" x2="15" y2="12" stroke="white" stroke-width="2"/>
                                <line x1="12" y1="9" x2="12" y2="15" stroke="white" stroke-width="2"/>
                                <line x1="9" y1="16" x2="15" y2="16" stroke="white" stroke-width="2"/>
                                <line x1="12" y1="13" x2="12" y2="19" stroke="white" stroke-width="2"/>
                                <text x="12" y="6" text-anchor="middle" fill="white" font-size="8">+</text>
                            </svg>
                            <div class="component-title">Cathode</div>
                        </div>
                        <div class="component-description">Lithium cobalt oxide</div>
                    </div>

                    <div class="component-box" draggable="true" data-component="connector">
                        <div class="tooltip">Connector completes the circuit</div>
                        <div class="component-header">
                            <svg class="component-icon" viewBox="0 0 24 24" fill="#8B4513">
                                <path d="M4 12h16M12 4v16" stroke="#8B4513" stroke-width="2"/>
                                <circle cx="12" cy="12" r="3" fill="#ffd700" stroke="#8B4513" stroke-width="2"/>
                                <path d="M8 8l8 8M16 8l-8 8" stroke="#8B4513" stroke-width="1"/>
                            </svg>
                            <div class="component-title">Connector</div>
                        </div>
                        <div class="component-description">Connecting wire with bulb</div>
                    </div>
                </div>

                <div class="diagram-panel">
                    <div class="instruction-box" id="instruction">
                        Add electrolyte to beaker
                    </div>
                    <div class="battery-container">
                        <div class="beaker" id="beaker">
                            <div class="electrolyte" id="electrolyte"></div>
                            <div class="separator" id="separator"></div>
                            <div class="anode" id="anode"></div>
                            <div class="cathode" id="cathode"></div>
                            <div class="connector" id="connector">
                                <div class="wire"></div>
                                <div class="bulb" id="bulb"></div>
                            </div>
                            <div class="labels" id="labels">
                                <div class="label label-electrolyte">Electrolyte</div>
                                <div class="label label-separator">Separator</div>
                                <div class="label label-anode">Anode (-)</div>
                                <div class="label label-cathode">Cathode (+)</div>
                                <div class="label label-connector">Connector</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charging Cycle Section -->
        <div class="section">
            <div class="section-title">2. Charging Cycle</div>
            <div class="cycle-section">
                <div class="cycle-diagram">
                    <div class="cycle-beaker" id="charging-beaker">
                        <div class="cycle-electrolyte"></div>
                        <div class="cycle-separator"></div>
                        <div class="cycle-anode"></div>
                        <div class="cycle-cathode"></div>
                        <div class="cycle-wire"></div>
                        <div class="dc-source">DC</div>
                    </div>
                </div>
                <div class="cycle-graph">
                    <canvas class="graph-canvas" id="charging-graph"></canvas>
                </div>
            </div>
            <div class="controls">
                <div class="slider-container">
                    <div class="slider-label">External Source Voltage: <span id="voltage-value">3.7V</span></div>
                    <input type="range" class="slider" id="voltage-slider" min="3.0" max="5.0" step="0.1" value="3.7">
                </div>
                <div class="slider-container">
                    <div class="slider-label">C-Rate: <span id="c-rate-value">1.0C</span></div>
                    <input type="range" class="slider" id="c-rate-slider" min="0.01" max="2.0" step="0.01" value="0.2">
                </div>
            </div>
            <div class="button-group">
                <button class="control-btn start-btn" id="charging-start">Start</button>
                <button class="control-btn stop-btn" id="charging-stop">Stop</button>
                <button class="control-btn reset-btn" id="charging-reset">Reset</button>
            </div>
            <div class="output-box">
                <div class="output-title">Charging Output</div>
                <div class="output-item">
                    <span>External Source Voltage:</span>
                    <span id="charging-ext-voltage">3.7V</span>
                </div>
                <div class="output-item">
                    <span>Battery Voltage:</span>
                    <span id="charging-battery-voltage">0.0V</span>
                </div>
                <div class="output-item">
                    <span>Battery Charge:</span>
                    <span id="charging-battery-charge">0%</span>
                </div>
            </div>
        </div>

        <!-- Discharging Cycle Section -->
        <div class="section">
            <div class="section-title">3. Discharging Cycle</div>
            <div class="cycle-section">
                <div class="cycle-diagram">
                    <div class="cycle-beaker" id="discharging-beaker">
                        <div class="cycle-electrolyte"></div>
                        <div class="cycle-separator"></div>
                        <div class="cycle-anode"></div>
                        <div class="cycle-cathode"></div>
                        <div class="cycle-wire"></div>
                        <div class="cycle-bulb" id="discharge-bulb"></div>
                    </div>
                </div>
                <div class="cycle-graph">
                    <canvas class="graph-canvas" id="discharging-graph"></canvas>
                </div>
            </div>
            <div class="controls">
                <div class="slider-container">
                    <div class="slider-label">Resistance: <span id="resistance-value">50Ω</span></div>
                    <input type="range" class="slider" id="resistance-slider" min="10" max="100" step="1" value="50">
                </div>
                <div class="slider-container">
                    <div class="slider-label">C-Rate: <span id="discharge-c-rate-value">1.0C</span></div>
                    <input type="range" class="slider" id="discharge-c-rate-slider" min="0.01" max="2.0" step="0.01" value="1.0">
                </div>
            </div>
            <div class="button-group">
                <button class="control-btn start-btn" id="discharging-start">Start</button>
                <button class="control-btn stop-btn" id="discharging-stop">Stop</button>
                <button class="control-btn reset-btn" id="discharging-reset">Reset</button>
            </div>
            <div class="output-box">
                <div class="output-title">Discharging Output</div>
                <div class="output-item">
                    <span>Resistance:</span>
                    <span id="discharging-resistance">50Ω</span>
                </div>
                <div class="output-item">
                    <span>Battery Voltage:</span>
                    <span id="discharging-battery-voltage">4.2V</span>
                </div>
                <div class="output-item">
                    <span>Battery Charge:</span>
                    <span id="discharging-battery-charge">100%</span>
                </div>
            </div>
        </div>

        <!-- Error Overlay -->
        <div class="error-overlay" id="error-overlay">
            <div class="error-box">
                <button class="error-close" id="error-close">&times;</button>
                <div class="error-title">CAUTION!</div>
                <div class="error-message" id="error-message"></div>
            </div>
        </div>
    </div>

<script src = "experiment/simulation/js/main.js" ></script>
</body>
</html>
